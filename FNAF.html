<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simple FNAF Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #000;
      color: #fff;
      margin: 0;
      padding: 20px;
    }
    #cameraCanvas {
      width: 300px;
      height: 200px;
      border: 2px solid #fff;
      margin: 20px auto;
      display: block;
    }
    button {
      margin: 10px;
      padding: 10px 20px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Simple FNAF Game</h1>
  <p>Switch cameras to survive!</p>
  <canvas id="cameraCanvas" width="300" height="200"></canvas>
  <div>
    <button onclick="switchCamera('office')">Office</button>
    <button onclick="switchCamera('cam1')">Camera 1</button>
    <button onclick="switchCamera('cam2')">Camera 2</button>
  </div>
  <p>Time Survived: <span id="timer">0</span> seconds</p>

  <script>
    let currentCamera = 'office';
    let gameOver = false;
    let timeSurvived = 0;
    let animatronicEvent = false;
    let animatronicCamera = null; // Which camera feed will show the animatronic

    const canvas = document.getElementById("cameraCanvas");
    const ctx = canvas.getContext("2d");

    // Switch the current camera view
    function switchCamera(cam) {
      if (gameOver) return;
      currentCamera = cam;
      drawCamera();
    }

    // Draw the current camera view on the canvas.
    function drawCamera() {
      // Clear the canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Set a background color based on the camera feed
      if (currentCamera === 'office') {
        ctx.fillStyle = '#333'; // dark gray for the office
      } else if (currentCamera === 'cam1') {
        ctx.fillStyle = '#444'; // slightly lighter for Camera 1
      } else if (currentCamera === 'cam2') {
        ctx.fillStyle = '#555'; // even lighter for Camera 2
      }
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      // If an animatronic event is active and this camera is designated, draw a cube
      if (animatronicEvent && currentCamera === animatronicCamera) {
        ctx.fillStyle = '#ff0000'; // red cube as placeholder
        const cubeSize = 50;
        // Center the cube
        const x = (canvas.width - cubeSize) / 2;
        const y = (canvas.height - cubeSize) / 2;
        ctx.fillRect(x, y, cubeSize, cubeSize);
      }
    }

    // Timer: updates survival time and randomly triggers animatronic events
    setInterval(function() {
      if (gameOver) return;
      timeSurvived++;
      document.getElementById('timer').innerText = timeSurvived;
      
      // After 10 seconds, start triggering events
      if (timeSurvived > 10 && Math.random() < 0.1 && !animatronicEvent) {
        // Randomly pick one camera feed for the animatronic event
        const cameras = ['office', 'cam1', 'cam2'];
        animatronicCamera = cameras[Math.floor(Math.random() * cameras.length)];
        animatronicEvent = true;
        drawCamera();
        
        // Give the player 3 seconds to switch away from the dangerous camera.
        setTimeout(() => {
          if (currentCamera === animatronicCamera) {
            gameOver = true;
            alert('Game Over! You were caught by the animatronic!');
          }
          animatronicEvent = false;
          drawCamera();
        }, 3000);
      }
      drawCamera();
    }, 1000);

    // Initial drawing of the camera view
    drawCamera();
  </script>
</body>
</html>
