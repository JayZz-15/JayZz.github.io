<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FNAF Game</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { background: black; color: white; text-align: center; }
        h1 { margin: 20px 0; }
        .game-container { position: relative; width: 800px; height: 600px; margin: 0 auto; }
        .office { position: absolute; width: 100%; height: 100%; background: #333; z-index: 2; }
        .camera { position: absolute; top: 20px; left: 20px; width: 100%; height: 100%; z-index: 1; }
        .door { width: 100px; height: 200px; background: #666; position: absolute; z-index: 3; }
        .left-door { left: 0; top: 200px; }
        .right-door { right: 0; top: 200px; }
        .animatronic { position: absolute; display: none; z-index: 4; width: 50px; height: 100px; }
    </style>
</head>
<body>
    <h1>FNAF Game</h1>
    <div class="game-container">
        <div class="camera">
            <img id="cameraFeed" src="assets/S.jpg" alt="Camera Feed" style="width: 100%; height: 100%;"/>
            <img id="animatronic" src="assets/Animatronic.jpg" alt="Animatronic" class="animatronic" style="top: 50%; left: 50%;"/>
        </div>
        <div class="office">
            <div id="leftDoor" class="door left-door"></div>
            <div id="rightDoor" class="door right-door"></div>
        </div>
    </div>

    <script>
        let isLeftDoorClosed = false;
        let isRightDoorClosed = false;
        let animatronicVisible = false;
        let cameraState = "front"; // Possible states: "front", "left", "right"
        let animatronicPosition = { x: 0, y: 0 }; // Initial position for animatronic (just an example)

        // References to elements
        const cameraFeed = document.getElementById("cameraFeed");
        const animatronic = document.getElementById("animatronic");
        const leftDoor = document.getElementById("leftDoor");
        const rightDoor = document.getElementById("rightDoor");

        // Switch camera view based on the camera state
        function switchCamera(cameraType) {
            if (cameraType === "left") {
                cameraFeed.src = "assets/C.jpg";
            } else if (cameraType === "right") {
                cameraFeed.src = "assets/M.jpg";
            } else if (cameraType === "front") {
                cameraFeed.src = "assets/S.jpg";
            }

            // Check if animatronic should appear on this camera
            if (animatronicInView(cameraType)) {
                animatronic.style.display = "block";
            } else {
                animatronic.style.display = "none";
            }
        }

        // Check if animatronic should be visible based on the camera type
        function animatronicInView(cameraType) {
            // Example: animatronic appears in front or at left/right camera based on some conditions
            if (cameraType === "front" && animatronicPosition.x >= 200 && animatronicPosition.x <= 600) {
                return true;
            } else if (cameraType === "left" && animatronicPosition.x < 200) {
                return true;
            } else if (cameraType === "right" && animatronicPosition.x > 600) {
                return true;
            }
            return false;
        }

        // Function to close the left door
        function closeLeftDoor() {
            isLeftDoorClosed = true;
            leftDoor.style.background = "#444"; // Darker to indicate it's closed
            // Prevent animatronic from getting closer if the door is closed
            if (animatronicPosition.x <= 200) {
                animatronicPosition.x = 200; // Stop animatronic movement if it's close
            }
        }

        // Function to open the left door
        function openLeftDoor() {
            isLeftDoorClosed = false;
            leftDoor.style.background = "#666"; // Lighter to indicate it's open
        }

        // Function to close the right door
        function closeRightDoor() {
            isRightDoorClosed = true;
            rightDoor.style.background = "#444"; // Darker to indicate it's closed
            // Prevent animatronic from getting closer if the door is closed
            if (animatronicPosition.x >= 600) {
                animatronicPosition.x = 600; // Stop animatronic movement if it's close
            }
        }

        // Function to open the right door
        function openRightDoor() {
            isRightDoorClosed = false;
            rightDoor.style.background = "#666"; // Lighter to indicate it's open
        }

        // Event listeners for closing/opening doors
        leftDoor.addEventListener("click", function () {
            if (isLeftDoorClosed) {
                openLeftDoor();
            } else {
                closeLeftDoor();
            }
        });

        rightDoor.addEventListener("click", function () {
            if (isRightDoorClosed) {
                openRightDoor();
            } else {
                closeRightDoor();
            }
        });

        // Update the game loop (you can make it more complex later)
        function gameLoop() {
            // Check if animatronic is close enough to the player to jump scare them
            if ((isLeftDoorClosed && animatronicPosition.x <= 200) || (isRightDoorClosed && animatronicPosition.x >= 600)) {
                alert("The animatronic got you!");
                // Reset the game or handle game over logic here
            }

            // Simulate animatronic movement
            if (!isLeftDoorClosed && !isRightDoorClosed) {
                animatronicPosition.x += 1; // Move the animatronic towards the player slowly
            }

            // Call the switchCamera function based on your game state
            switchCamera(cameraState);

            // Re-run the game loop
            requestAnimationFrame(gameLoop);
        }

        // Start the game loop
        gameLoop();
    </script>
</body>
</html>
