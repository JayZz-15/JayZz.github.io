<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parallel Worlds</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: black; display: flex; justify-content: center; align-items: center; height: 100vh; }
        canvas { border: 2px solid white; }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        canvas.width = 600;
        canvas.height = 600;

        const gridSize = canvas.width / 2;
        const playerSize = 20;
        const speed = 2;
        const gravity = 0.5;

        let players = [
            { x: 50, y: 50, vx: 0, vy: 0, color: "blue", gravityX: 0, gravityY: gravity },  // Top left
            { x: 50, y: gridSize + 50, vx: 0, vy: 0, color: "green", gravityX: gravity, gravityY: 0 }, // Bottom left
            { x: gridSize + 50, y: gridSize + 50, vx: 0, vy: 0, color: "red", gravityX: 0, gravityY: -gravity }, // Bottom right
            { x: gridSize + 50, y: 50, vx: 0, vy: 0, color: "yellow", gravityX: -gravity, gravityY: 0 } // Top right
        ];

        let keys = {};
        window.addEventListener("keydown", (e) => keys[e.key] = true);
        window.addEventListener("keyup", (e) => keys[e.key] = false);

        function update() {
            players.forEach(player => {
                player.vx = (keys['d'] ? speed : 0) - (keys['a'] ? speed : 0);
                player.vy = (keys['s'] ? speed : 0) - (keys['w'] ? speed : 0);
                player.vx += player.gravityX;
                player.vy += player.gravityY;
                player.x += player.vx;
                player.y += player.vy;
                
                // Keep players inside their respective grids
                player.x = Math.max(0, Math.min(gridSize - playerSize, player.x));
                player.y = Math.max(0, Math.min(gridSize - playerSize, player.y));
            });
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = "white";
            ctx.strokeRect(0, 0, gridSize, gridSize);
            ctx.strokeRect(gridSize, 0, gridSize, gridSize);
            ctx.strokeRect(0, gridSize, gridSize, gridSize);
            ctx.strokeRect(gridSize, gridSize, gridSize, gridSize);
            
            players.forEach(player => {
                ctx.fillStyle = player.color;
                ctx.fillRect(player.x, player.y, playerSize, playerSize);
            });
        }

        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        gameLoop();
    </script>
</body>
</html>
